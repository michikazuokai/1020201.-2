%----------------------------------------------------------------------------------------
%  metropolis template (refactored)
%----------------------------------------------------------------------------------------
\documentclass[handout,aspectratio=169]{beamer}

% \documentclass の直後で hyperref のオプションを渡す（metropolisでも安全）
\PassOptionsToPackage{unicode=true,colorlinks=true,linkcolor=blue,urlcolor=blue}{hyperref}

\usetheme{metropolis}
\metroset{block=fill, sectionpage=progressbar, progressbar=foot}

% 背景色（tech のとき白など）: Pythonで差し込み
\setbeamercolor{background canvas}{bg=white}

%--------------------------
% 日本語
%--------------------------
\usepackage{luatexja}
\usepackage{luatexja-fontspec}
\usepackage{luatexja-ruby}
\setsansjfont{Hiragino Sans}[BoldFont={Hiragino Sans W6}]

%--------------------------
% 基本パッケージ（重複なし）
%--------------------------
\usepackage[table]{xcolor}
\usepackage{graphicx}
\usepackage[abs]{overpic}
\usepackage{tikz}
\usepackage{array}
\usepackage{tabularx}
\usepackage{booktabs}
\usepackage{makecell}
\usepackage{mathtools}
\usepackage{longtable}
\usepackage{pdfpages}
\usepackage{etoolbox} % AtBeginEnvironment 等

% minted（※ -shell-escape 必須）
\usepackage{minted}
\setminted{
  frame=single,
  framesep=2mm,
  fontsize=\footnotesize,
  breaklines=true
}

% （必要なときだけ）tcolorbox
\usepackage[most]{tcolorbox}

% hyperref は最後
\usepackage{hyperref}

%--------------------------
% パス
%--------------------------
\newcommand{\assetpath}{/Volumes/NBPlan/TTC/授業資料/2025年度/}
\graphicspath{{images/}{\assetpath/1020201.アルゴリズム２/04/images/}{../project_assets/images/}{../project_assets/emoji/emoji_pngs/}}

%--------------------------
% フッター
%--------------------------
\newcommand{\myfootertext}{1020201.アルゴリズム２/04}
\setbeamertemplate{footline}{%
  \leavevmode
  \hbox to \paperwidth{%
    \hspace*{0.2cm}
    \scriptsize\color{gray!50} \myfootertext
    \hfill
    \scriptsize\color{gray} \insertframenumber{} / \inserttotalframenumber
    \hspace*{0.4cm}
  }%
  \vspace{1pt}
}

%--------------------------
% TeacherFrame（外部）
%--------------------------
\usepackage{../teacherframe}

%--------------------------
% フレームタイトル：番号. タイトル
% ※ ここで出すだけ。insertframetitle を再定義しない（安全）
%--------------------------
\setbeamertemplate{frametitle}{%
  \vspace{0.6ex}%
  \begin{beamercolorbox}[wd=\paperwidth,sep=0.5ex,leftskip=0.9em,rightskip=0.5em]{frametitle}%
    \usebeamerfont{frametitle}%
    \insertframenumber.\,\insertframetitle%
  \end{beamercolorbox}%
}

%--------------------------
% 表用：列型
%--------------------------
\newcolumntype{C}[1]{>{\centering\arraybackslash}p{#1}}
\newcolumntype{M}[1]{>{\raggedright\arraybackslash}m{#1}}

%--------------------------
% ブロック（必要なら）
%--------------------------
\definecolor{myblue}{HTML}{7488FF}
\definecolor{mylightblue}{HTML}{E3EEFF}
\setbeamertemplate{blocks}[rounded]
\setbeamercolor{block title}{bg=myblue, fg=white}
\setbeamercolor{block body}{bg=mylightblue, fg=black}

%--------------------------
% 奇数ページのスライドのを表示する
%（教示用だけでそれ以外はこの処理は動かない）
%--------------------------
% --- 教師用だけ、スライドを奇数開始に強制するトグル ---
\newif\ifoddslideenforce
\oddslideenforcefalse   % デフォルトOFF（pr/hoはOFF）

% --- 再帰防止ガード ---
\newif\ifoddslideguard
\oddslideguardfalse

% --- 偶数ページなら空白スライドを1枚入れて奇数に戻す ---
\newcommand{\ensureoddslide}{%
  \ifoddslideguard\relax\else
    \oddslideguardtrue
    \ifodd\value{page}\relax
      % 何もしない（次が奇数）
    \else
      \begin{frame}[plain,noframenumbering]
        \note{}% notes出力時に2枚消費させる保険
      \end{frame}
    \fi
    \oddslideguardfalse
  \fi
}

% --- frameが始まる直前に自動挿入（教師用だけ）---
\BeforeBeginEnvironment{frame}{%
  \ifoddslideenforce
    \ensureoddslide
  \fi
}

%--------------------------
% note / noteT の「常時安全化」
%  - tech 以外：\noteT は無視（エラーにならない）
%  - tech：notesmode_tech で上書き定義
%--------------------------
\providecommand{\notetitletext}{}      % 既にあっても衝突しない
\providecommand{\noteT}[2]{}           % デフォルトは何もしない

% frame開始ごとにタイトル変数をクリア（前の noteT が残らないように）
\AtBeginEnvironment{frame}{\gdef\notetitletext{}}

%--------------------------
% 切替（Pythonから差し込み）
%--------------------------
\mypausemodetrue
\teachermodetrue
\setbeameroption{show notes}
%-------------

% --- tech のときだけ noteT を有効化（テンプレートの \providecommand を上書き） ---
\makeatletter
\renewcommand{\noteT}[2]{%
 \gdef\notetitletext{#1}%
 \note{#2}%
}
% タイトル未指定のときのために初期化
\renewcommand{\notetitletext}{}%

\setbeamertemplate{note page}{%
 \begin{minipage}{\linewidth}
 \vspace{1.2ex} % タイトルを少し下げる（必要に応じて調整）
 {\Large\bfseries
 \ifx\notetitletext\@empty
 \insertframetitle
 \else
 \notetitletext
 \fi
 }\par
 \vspace{-1.2ex}
 \rule{\linewidth}{0.8pt}\par
 \vspace{0.8ex}
 {\scriptsize \insertnote}
 \end{minipage}
}
\makeatother

%教師用のPDFは奇数ページからスライドを出力
\oddslideenforcetrue


%----------------------------------------------------------------------------------------
% タイトル
%----------------------------------------------------------------------------------------
\title{ 04 確率の基礎①（場合の数・確率） }
\date{}
\newcommand{\codedir}{\assetpath/1020201.アルゴリズム２/04}

\begin{document}

\begin{frame}[plain,noframenumbering]
  \titlepage
  \bigskip
  \begin{center}
    \ifteachermode 教師用 \fi
  \end{center}
\end{frame}

% セクションページ（必要なら）
\setbeamertemplate{section page}{
  \begin{centering}
    \vfill
    \rule{\linewidth}{2pt}\par
    \vspace{1ex}
    {\usebeamerfont{section title}\Huge\bfseries \insertsection}\par
    \vspace{1ex}
    \rule{\linewidth}{2pt}\par
    \vfill
  \end{centering}
}
\setbeamerfont{section title}{size=\LARGE,series=\bfseries}

\AtBeginSection[]{
  \begin{frame}[plain,noframenumbering]
    \sectionpage
  \end{frame}
}

% 本編開始でフレーム番号を0から（必要なら）
\setcounter{framenumber}{0}

\input{emoji_macros}

% @@@--(metropolis)--@@@
% ----------------------------------------------------------------------------------------
%   Slide 01: 第3回 確率の基礎①（場合の数・確率）
% ----------------------------------------------------------------------------------------
\begin{frame}{確率の基礎①（場合の数・確率）}
本日は、\ruby{統計学}{とうけいがく}の「予測」を支える論理的な土台である「\ruby{確率}{かくりつ}」を学びます。

\begin{itemize}
  \item \textbf{確率の本質：} 確率は「公式」ではなく、全体に対する「起こりやすさの割合」です。
  \item \textbf{\ruby{樹形図}{じゅけいず}の活用：} 頭で考えず、図を描いて「全パターン」を視覚化します。
  \item \textbf{組み合わせの算出：} 樹形図から重複を省き、正しい数を導き出す方法を学びます。
  \item \textbf{Excel実習：} 表（マトリックス）を使い、確率の分母と分子を特定します。
\end{itemize}

「数え方のルール」を整理することが、後の複雑なデータ分析を支える力になります。

\noteT{講義の狙い}{
数学としての確率に苦手意識を持つ学生に対し、整理術（アルゴリズム）としての確率を伝えます。
}
\end{frame}

% ----------------------------------------------------------------------------------------
%   Slide 02: 確率とは何か：身近な「割合」
% ----------------------------------------------------------------------------------------
\begin{frame}{確率の定義：ある出来事が起こる「割合」}
確率は、ある\ruby{試行}{しこう}（実験や観察）を行ったとき、特定の出来事がどれくらい起こりやすいかを「0から1」の範囲で表した数値です。

\begin{block}{確率の基本式}
  \[ 確率 = \frac{\text{注目している場合の数（分子）}}{\text{起こりうるすべての場合の数（分母）}} \]
\end{block}

\textbf{ポイント：}
\begin{itemize}
  \item \textbf{0：} 絶対に起こらない（0\%）
  \item \textbf{1：} 100\%確実に起こる（100\%）
  \item \textbf{割合：} 「10回に3回起こる」なら $3/10 = 0.3$ と表現します。
\end{itemize}

\noteT{定義}{
「分母を先に固定する」という手順をこの後何度も繰り返します。
}
\end{frame}

% ----------------------------------------------------------------------------------------
%   Slide 03: なぜ「確率」を学ぶのか：記述統計からの発展
% ----------------------------------------------------------------------------------------
\begin{frame}{\ruby{記述統計}{きじゅつとうけい}（過去）から確率（未来）へ}
前回の「\ruby{記述統計}{きじゅつとうけい}」と今回の「\ruby{確率}{かくりつ}」は、以下のように繋がっています。

\begin{itemize}
  \item \textbf{記述統計：} 手元にある「過去」のデータの割合を整理した。
  \item \textbf{確率：} 同じ条件なら、「未来」にどの程度の割合で起こるかを予測する。
\end{itemize}

「過去のデータでは特定の商品の売上割合が高かった」という事実を、「次に来る客がその商品を買う確率」として扱うことで、ビジネスの予測が可能になります。

\noteT{つながり}{
記述統計から確率への接続を言語化し、学習の動機付けを行います。
}
\end{frame}

% ----------------------------------------------------------------------------------------
%   Slide 04: 場合の数：確率の「分母」を決める
% ----------------------------------------------------------------------------------------
\begin{frame}{場合の数：全体で何通りの結果があるか}
確率を計算する際、最も重要なのが「起こりうるすべての結果（\ruby{場合}{ばあい}の数）」を正しく把握することです。これが確率の「分母」になります。

\textbf{例：コイン1枚を投げる}
\begin{itemize}
  \item 結果は「表」か「裏」の2通り。 $\rightarrow$ \textbf{分母 ＝ 2}
\end{itemize}

\textbf{例：サイコロ1個を振る}
\begin{itemize}
  \item 結果は「1, 2, 3, 4, 5, 6」の6通り。 $\rightarrow$ \textbf{分母 ＝ 6}
\end{itemize}

\textbf{鉄則：} 分母を間違えると、その後の確率はすべて間違った値になります。

\noteT{場合の数}{
「全事象」という言葉は使わず、直感的に「全体」と呼びます。
}
\end{frame}

% ----------------------------------------------------------------------------------------
%   page
% ----------------------------------------------------------------------------------------
\begin{frame}{全部で何通りある？}
次の実験では全部で何通りあるか考えてみましょう。

\vspace{1.5em}

\textbf{１.コイン２枚を投げる}

\vspace{2em}

\textbf{２.サイコロ２個を振る}

\vspace{1.5em}

この全部で何通り？のことを『場合の数』と言います。
\noteT{場合の数}{
表や樹形図に表して場合の数を数える。
}
\end{frame}

% ----------------------------------------------------------------------------------------
%   Slide 05: 樹形図（ツリー）：漏れを防ぐ最強の道具
% ----------------------------------------------------------------------------------------
\begin{frame}{\ruby{樹形図}{じゅけいず}：分岐を書き出して全体を把握する}
頭の中だけで数えると、必ず数え漏れや重複が発生します。これを防ぐための視覚的な整理図が「\ruby{樹形図}{じゅけいず}」です。

\textbf{樹形図の描き方：}
\begin{enumerate}
  \item 1回目の結果を縦に並べる。
  \item それぞれの結果から、2回目の結果へ枝を伸ばす。
  \item 枝の「末端（葉）」の数を合計する。
\end{enumerate}



この図を描くことで、(表,裏)と(裏,表)が別の枝であることを視覚的に確認できます。

\noteT{樹形図}{
視覚的に枝分かれを理解させることが、ロジカルな数え上げの基本です。
}
\end{frame}

% ----------------------------------------------------------------------------------------
%   Slide 06: 実習：コイン2枚の全パターンを書き出す
% ----------------------------------------------------------------------------------------
\begin{frame}{実習：樹形図で「全体（分母）」を特定する}
10円玉と100円玉の2枚を投げたとき、起こりうる全パターンを樹形図で描いてみましょう。

\begin{itemize}
  \item 10円玉が「表」のとき、100円玉は「表・裏」の2通り。
  \item 10円玉が「裏」のとき、100円玉は「表・裏」の2通り。
\end{itemize}

枝の末端を数えると、全部で \textbf{4通り} であることがわかります。
これがコイン2枚を投げたときの確率の「分母」になります。

\noteT{実習}{
「表裏」と「裏表」を別々の枝として数える習慣をつけさせます。
}
\end{frame}

% ----------------------------------------------------------------------------------------
%   Slide 07: 数え方のルール① 順列（ならべる）
% ----------------------------------------------------------------------------------------
\begin{frame}{順列：順番や役割を「区別して」数える}
「\ruby{順列}{じゅんれつ}」とは、取り出したものの並ぶ順番を、別々の結果として数えるルールです。

\textbf{具体例：A, B, Cの3人から「走る順番」を決める}
\begin{itemize}
  \item A,B,C ≠ A,C,B → 順番が違うので\textbf{別の2通り}と数えます。
\end{itemize}

\textbf{判断基準：}
「順番を入れ替えたとき、意味が変わるか？」
変わるなら、すべての枝を平等に数える「順列」の考え方を使います。

\noteT{順列}{
「走者」や「役職」など、役割がつく場合は順列であることを伝えます。\\
黒板に、A B C, A C B, B A C　の例をかき、「ならぶ場所がちがう → ちがう」　と説明する。
}
\end{frame}

% ----------------------------------------------------------------------------------------
%   Slide 08: 数え方のルール② 組み合わせ（えらぶ）
% ----------------------------------------------------------------------------------------
\begin{frame}{組み合わせ：順番を無視し「セット内容」だけ数える}
「組み合わせ」とは、順番は関係なく「どのメンバーが選ばれたか」というセットの中身だけを数えるルールです。

\textbf{例：A, B, C の 3 人から、掃除当番を 2 人えらぶ}
\begin{itemize}
  \item だれが掃除をするか、を考えます。
  \item Aさんと Bさん → OK
  \item Bさんと Aさん → \textbf{同じ}
  \item \textbf{順番は関係ありません。}
  \item だから、\textbf{1 通り}です。
\end{itemize}

\textbf{判断基準：}
「順番を入れ替えても、結果（セット）は同じか？」
同じなら、重複を省いて数える「組み合わせ」の考え方を使います。

\noteT{組み合わせ}{
「同じ人 → 1つ」\\
「順番は見ません」\\

この2フレーズを毎回同じ言い方で使うと、留学生はかなり安定します。
}
\end{frame}

% ----------------------------------------------------------------------------------------
%   Slide: 組み合わせの算出（順列 → 重複を消す）
% ----------------------------------------------------------------------------------------
\begin{frame}{組み合わせの数え方：ならべて → 同じを消す}
組み合わせを数えるときは、まず \textbf{ならべて全部出す} と分かりやすくなります。

\textbf{例：A, B, C から 2 人えらぶ}
\begin{enumerate}
  \item まず、\ruby{並}{なら}べて書く：\par
        AB,\ AC,\ BA,\ BC,\ CA,\ CB \quad（6 つ）
  \item \textbf{同じ人のセット}を見つける：\par
        AB と BA、AC と CA、BC と CB
  \item \textbf{同じ → 1 つ}にする：\par
        AB,\ AC,\ BC \quad（\textbf{3 通り}）
\end{enumerate}

\noteT{並べて消す}{
最初に全部出すと、同じものが見つけやすい。\par
組み合わせは「並べた結果を、同じものごとにまとめたもの」。\par
}
\end{frame}

% ----------------------------------------------------------------------------------------
%   Slide: 効率的な数え方（もどらない）
% ----------------------------------------------------------------------------------------
\begin{frame}{組み合わせの数え方：もどらないルール}
はじめから \textbf{同じものを数えない} ために、\textbf{\ruby{戻}{もど}らない} ルールで考えます。

\textbf{ルール：もう書いたものには \ruby{戻}{もど}らない}
\begin{itemize}
  \item A からは → B、C（AB、AC）
  \item B からは → \textbf{C だけ}（BC）\quad （A には \textbf{戻らない}） \par       
  \item C からは → 選ぶものがない
\end{itemize}

このルールで考えると、\textbf{同じセットを 2 回 数えません}。\par
だから、組み合わせは \textbf{3 通り} です。

\noteT{もどらない}{
この図は、実際の行動ではなく「数え方の整理」。\par
「同じ → 書かない」という判断だけで、間違いを防げる。\par
}
\end{frame}


% ----------------------------------------------------------------------------------------
%   Slide 11: 実習：4枚のカードから2枚選ぶ組み合わせ
% ----------------------------------------------------------------------------------------
\begin{frame}{実習：樹形図で「4枚から2枚」の組み合わせを出す}
4枚のカード（1, 2, 3, 4）から、2枚を同時に引きます。
「戻らない樹形図」を描いて、組み合わせの数を求めてください。

\vspace{1em}
\textbf{ヒント：}
\begin{itemize}
  \item 「1」からは（2, 3, 4）の3本。
  \item 「2」からは（3, 4）の2本。（1へは戻らない）
  \item 「3」からは（4）の1本。
\end{itemize}

\noteT{実習}{
学生に手を動かさせ、自力で3+2+1=6通りを導き出させます。
}
\end{frame}

% ----------------------------------------------------------------------------------------
%   Slide 12: 【答え】組み合わせの総数を確認する
% ----------------------------------------------------------------------------------------
\begin{frame}{【答え】組み合わせの総数は 6通り}
「戻らないルール」で描くと、枝の数は規則的に減っていきます。

\begin{itemize}
  \item \textbf{1から始まるペア：} (1,2), (1,3), (1,4) $\rightarrow$ \textbf{3通り}
  \item \textbf{2から始まるペア：} (2,3), (2,4) $\rightarrow$ \textbf{2通り}
  \item \textbf{3から始まるペア：} (3,4) $\rightarrow$ \textbf{1通り}
\end{itemize}
$\rightarrow$ 合計：$3 + 2 + 1 = \mathbf{6}$ 通り

このように樹形図を正しく描ければ、難しい公式を知らなくても確率の「分母」を正確に算出できます。

\noteT{答え}{
この「規則性」が、後の計算式（階乗や二項係数）の背景にあることを示唆します。
}
\end{frame}

% ----------------------------------------------------------------------------------------
%   Slide 13: 確率の算出プロセス：分母と分子
% ----------------------------------------------------------------------------------------
\begin{frame}{確率のもとめ方：分母と分子}
これまで数えた結果を使って、確率をもとめます。

\textbf{問題：コインを 2 枚なげて、「表が 1 枚」出る確率は？}
\begin{enumerate}
  \item \textbf{分母（ぜんぶ）：}\par
        (表,表), (表,裏), (裏,表), (裏,裏) の \textbf{4 通り}
  \item \textbf{分子（ほしいもの）：}\par
        「表が 1 枚」→ (表,裏), (裏,表) の \textbf{2 通り}
  \item \textbf{確率：}\par
        $2 / 4 = \mathbf{0.5}$（50\%）
\end{enumerate}

\textbf{注意：} 分母と分子は、\textbf{同じルール}で数えます。

\noteT{同じルール}{
分母で (表,裏) と (裏,表) を \textbf{2 つ}と数えたら、\par
分子でも \textbf{2 つ}として数える。\par
同じものを、あとで 1 つにしない。\par
}
\end{frame}


% ----------------------------------------------------------------------------------------
%   Slide 14: 確率の性質：合計は必ず「1」になる
% ----------------------------------------------------------------------------------------
\begin{frame}{確率の大事なルール：ぜんぶ足すと 1（100\%）}
すべての結果を \textbf{もれなく}数えると、確率の合計は \textbf{1（100\%）} になります。

\textbf{例：コインを 2 枚なげる}
\begin{itemize}
  \item 表が 2 枚：$1/4$（$0.25$）
  \item 表が 1 枚：$2/4$（$0.50$）
  \item 表が 0 枚：$1/4$（$0.25$）
\end{itemize}

合計：$0.25 + 0.50 + 0.25 = \mathbf{1.0}$

\textbf{便利な考え方：} \textbf{1 から引く}\par
「少なくとも 1 枚は表」の確率は、\par
「\textbf{1 $-$（表が 0 枚）}」で出せます。

\noteT{合計は1}{
「ぜんぶ足すと 1」は、あとで「分布（グラフ）」を考えるときにも使う。\par
グラフの面積（全部）＝ 1、という考え方につながる。\par
}
\end{frame}


% ----------------------------------------------------------------------------------------
%   Slide 15: 独立な試行：コインに「記憶」はない
% ----------------------------------------------------------------------------------------
\begin{frame}{独立：まえの結果は、つぎに関係しない}
確率では、\textbf{前の結果は、次に「えいきょう」しません}。

\begin{itemize}
  \item コインを 1 回なげて「表」が出た。
  \item \textbf{問い：} 2 回目に「裏」が出やすくなる？
  \item \textbf{答え：} \textbf{なりません。}\par
        2 回目も、裏の確率は \textbf{$1/2$} です。
\end{itemize}

「そろそろ裏が出るはず」という考えは、\par
確率では \textbf{使いません}。

\noteT{独立}{
1 回ずつの結果は、\textbf{別べつ}に考える。\par
気もちではなく、\textbf{数（わりあい）}で考える。\par
}
\end{frame}


% ----------------------------------------------------------------------------------------
%   Slide 16: 公式：数え上げを「記号」に置き換える
% ----------------------------------------------------------------------------------------
\begin{frame}{公式の意味：はやく数えるための書き方}
順列（$P$）や組み合わせ（$C$）は、\par
\textbf{数えた結果を、短く書くための記号}です。

\begin{itemize}
  \item \textbf{順列 $P$：} $n$ 個から $r$ 個えらんで \textbf{ならべる}
  \item \textbf{組み合わせ $C$：} $n$ 個から $r$ 個を \textbf{えらぶだけ}
\end{itemize}

\[ {}_4 \mathrm{C}_2 = 6 \]

意味：\par
「4 つの中から 2 つ選ぶと、\textbf{6 通り}ある」

\textbf{だいじなこと：}\par
計算より、\textbf{並べる？ 選ぶ？}を考える。

\noteT{公式}{
公式は、数え上げを \textbf{はしょる}ためのもの。\par
考え方（ならべる／えらぶ）が分かれば十分。\par
}
\end{frame}


% ----------------------------------------------------------------------------------------
%   Slide 17: Excelでの視覚化：樹形図を「表」へ
% ----------------------------------------------------------------------------------------
\begin{frame}{実習：Excel の表で「全部」を作る}
樹形図を、Excel の \textbf{表}で表します。

\textbf{やること：}
\begin{enumerate}
  \item A2:A3 に「表」「裏」を入力（1 枚目）
  \item B1:C1 に「表」「裏」を入力（2 枚目）
  \item まじわるセル（B2:C3）に結果を書く
\end{enumerate}

このとき、\textbf{セルの数}が\par
\textbf{全部の数（分母）}になります。

\noteT{Excel実習}{
樹形図と同じ情報を、\textbf{表}で表している。\par
セルの数＝「考えるパターンの数」。\par
}
\end{frame}

% ----------------------------------------------------------------------------------------
%   Slide 18: Excelでの確率計算：割合を出す
% ----------------------------------------------------------------------------------------
\begin{frame}{実習：Excel で確率を出す}
作った表を使って、確率を計算します。

\begin{enumerate}
  \item 全部のセルを数える → \textbf{分母}
  \item 条件に合うセルを数える → \textbf{分子}
  \item セルに \texttt{= 分子 / 分母} を入力
\end{enumerate}

\textbf{ポイント：}\par
確率は \textbf{全部の中の、どれくらいか}。

\noteT{計算}{
確率は、むずかしい計算ではない。\par
「数える → 割る」だけ。\par
}
\end{frame}

% ----------------------------------------------------------------------------------------
%   Slide 19: 確率の意味を考える
% ----------------------------------------------------------------------------------------
\begin{frame}{【問い】降水確率 30\% の意味}
「明日の\ruby{降水確率}{こうすいかくりつ}は 30\% です。」\par
正しい意味はどれ？

\begin{enumerate}
  \item 明日の時間の 30\% で雨が降る
  \item 明日の場所の 30\% で雨が降る
  \item 同じような日が 100 回あれば、30 回くらい雨が降る
\end{enumerate}

\vspace{1em}
\textbf{答え：3}

確率は、\par
\textbf{同じ条件を何回もくり返したときの割合}。

\noteT{解釈}{
確率は「未来の1回」を当てるものではない。\par
「たくさん回したときの出やすさ」。\par
}
\end{frame}

% ----------------------------------------------------------------------------------------
%   Slide 20: 確率のよくあるミス
% ----------------------------------------------------------------------------------------
\begin{frame}{注意！ 確率でよくあるミス}
まちがえやすいポイントを確認します。

\begin{itemize}
  \item \textbf{分母を決めない：}\par
        まず「全部」を数える
  \item \textbf{表・裏を 1 つにする：}\par
        コイン 2 枚の分母は \textbf{4 通り}
  \item \textbf{気もちで考える：}\par
        昨日の結果は、今日に関係しない
\end{itemize}

\noteT{間違い}{
ミスの多くは、\par
「分母をあいまいにする」ことから起こる。\par
}
\end{frame}


% ----------------------------------------------------------------------------------------
%   Slide 21: 記述統計と確率の関係
% ----------------------------------------------------------------------------------------
\begin{frame}{まとめ：なぜ統計学で確率を学ぶのか}
本日の学びは、データ分析のフェーズを次へ進めるための準備です。

\begin{itemize}
  \item \textbf{記述統計：} 手元にあるデータから「今、何が起きているか」を記述する。
  \item \textbf{確率：} 記述された割合を元に「次に、何が起きそうか」を推察する。
\end{itemize}

「分布」という言葉は、前回のヒストグラムでも使いましたが、次々回以降は「\ruby{確率分布}{かくりつぶんぷ}」という言葉に進化します。

\noteT{まとめ1}{
記述統計と確率の概念的な繋がりを整理します。
}
\end{frame}

% ----------------------------------------------------------------------------------------
%   Slide 22: 今日の重要キーワード
% ----------------------------------------------------------------------------------------
\begin{frame}{本日のまとめ：重要用語}
\begin{itemize}
  \item \textbf{確率：} ある事象が起こる「割合」。$0$（絶対ない）から $1$（確実）の間。
  \item \textbf{樹形図：} 分母（全体）を漏れなく数え上げるための視覚的ツール。
  \item \textbf{順列：} 順番を区別する。 \textbf{組み合わせ：} 順番を無視する。
  \item \textbf{独立：} 1回ごとの結果は、過去の結果に左右されない。
\end{itemize}

次回は、この確率を何度も繰り返したときの平均的な値「期待値」を学びます。

\noteT{まとめ2}{
本日の中心概念を復唱します。
}
\end{frame}

% ----------------------------------------------------------------------------------------
%   Slide 23: 本日の学習概要（振り返り用）
% ----------------------------------------------------------------------------------------
% \begin{frame}{第3回：学習概要（キーポイント 10）}
% \begin{table}[]
%   \small
%   \begin{tabularx}{\linewidth}{|l|X|}
%     \hline
%     \textbf{No} & \textbf{キーポイントと詳細} \\ \hline
%     1 & 確率の定義：全事象（分母）に対する注目事象（分子）の割合 \\ \hline
%     2 & 分母（全体）を先に決定し、固定する重要性 \\ \hline
%     3 & 樹形図を用いた「漏れのない」全パターンの数え上げ \\ \hline
%     4 & 順列（並べる）と組み合わせ（選ぶ）の判断基準 \\ \hline
%     5 & 組み合わせ算出の実習（戻らない樹形図の活用） \\ \hline
%     6 & 確率の合計が1（100\%）になる性質の理解 \\ \hline
%     7 & 独立事象の概念（前後の結果に影響がないこと） \\ \hline
%     8 & 余事象（1−逆の確率）を用いた効率的な計算方法 \\ \hline
%     9 & Excelでのマトリックス作成（視覚的な分母把握） \\ \hline
%     10 & 記述統計（過去の割合）から確率（将来の割合）へのつながり \\ \hline
%   \end{tabularx}
% \end{table}

% \noteT{概要}{
% 最後の一枚として本日の学びを総括します。
% }
% \end{frame}
\end{document}
